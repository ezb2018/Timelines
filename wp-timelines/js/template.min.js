var Wptl_El_Sp={timelines_hoz:function(){return jQuery(window).resize(function(){jQuery(".horizontal-timeline:not(.ex-multi-item)").each(function(){var o=jQuery(this);setTimeout(function(){var e=o.data("id"),t=jQuery("#"+e+" ul.horizontal-nav li.ex_s_lick-current"),i=t.offset(),a=jQuery("#"+e+" .horizontal-nav").offset(),l=t.width(),s=i.left-a.left+l/2;jQuery("#"+e+" .timeline-pos-select").css("width",s)},200)})}),jQuery(".horizontal-timeline:not(.ex-multi-item)").each(function(){if(!jQuery(this).hasClass("hoz-at")){jQuery(this).addClass("hoz-at");var e=jQuery(this);e.hasClass("tl-hozsteps")&&(r=!1);e.data("layout");var p=e.data("id"),t=e.data("count"),i=e.data("slidesshow");""==i&&(i=3);var a=e.data("arrowpos"),l=(0<e.data("startit")&&e.data("startit"),e.data("autoplay")),s=e.data("speed"),o=e.data("rtl"),n=0<e.data("start_on")?e.data("start_on"):0;if("0"==e.data("infinite"))var c=0;else c="yes"==e.data("infinite");var r=e.data("center");jQuery("#"+p+" .horizontal-content").on("beforeChange",function(e,t,i,a){if(1==c||0==c){$indx=t.currentSlide;var l=jQuery("#"+p+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]');l.prevAll().addClass("prev_item"),l.removeClass("prev_item"),l.nextAll().removeClass("prev_item")}else $li_curr=a+1,jQuery("#"+p+" .horizontal-nav li.ex_s_lick-slide:nth-child("+$li_curr+")").prevAll().addClass("prev_item"),jQuery("#"+p+" .horizontal-nav li.ex_s_lick-slide:nth-child("+$li_curr+")").nextAll().removeClass("prev_item")}).on("afterChange",function(e,t,i,a){if(1==c){$indx=t.currentSlide;var l=jQuery("#"+p+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]')}else{$indx=t.currentSlide,0==$indx&&0==c&&jQuery("#"+p).resize();for(var s=0;s<t.$slides.length;s++){if((l=jQuery(t.$slides[s])).hasClass("ex_s_lick-current")){$pos_c=s+1;var o=(l=jQuery("#"+p+" ul.horizontal-nav li:nth-child("+$pos_c+")")).offset(),r=jQuery("#"+p+" .horizontal-nav").offset(),n=l.width(),d=o.left-r.left+n/2;jQuery("#"+p+" .timeline-pos-select").css("width",d);break}}}l.prevAll().addClass("prev_item"),l.removeClass("prev_item"),l.nextAll().removeClass("prev_item")}).EX_ex_s_lick({infinite:c,speed:""!=s?s:250,initialSlide:n,rtl:"yes"==o,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,autoplay:1==l&&t<=i,arrows:"top"!=a,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',fade:!0,asNavFor:"#"+p+" .horizontal-nav"}),jQuery("#"+p+" .horizontal-nav").on("init",function(e,t,i){if(""!=n&&jQuery.isNumeric(n))(a=jQuery(t.$slides[n])).addClass("ex_s_lick-current"),jQuery(t.$slides[0]).removeClass("ex_s_lick-current"),a.nextAll().removeClass("prev_item"),a.prevAll().addClass("prev_item");else var a=jQuery(t.$slides[0]);if(a.hasClass("ex_s_lick-current"))var l=a.offset(),s=jQuery("#"+p+" .horizontal-nav").offset(),o=a.width(),r=l.left-s.left+o/2;(jQuery("#"+p+" .timeline-pos-select").css("width",r),1==c||0==c)&&($indx=t.currentSlide,(a=jQuery("#"+p+' ul.horizontal-nav li[data-ex_s_lick-index="'+$indx+'"]')).prevAll().addClass("prev_item"),a.removeClass("prev_item"),a.nextAll().removeClass("prev_item"))}).EX_ex_s_lick({infinite:c,speed:""!=s?s:250,initialSlide:n,rtl:"yes"==o,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',slidesToShow:i,slidesToScroll:1,asNavFor:"#"+p+" .horizontal-content",dots:!1,autoplay:1==l,autoplaySpeed:""!=s?s:3e3,arrows:"top"==a,centerMode:"left"!=r,focusOnSelect:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:i,slidesToScroll:1}},{breakpoint:600,settings:{slidesToShow:i,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}}),this},timelines_hoz_multi:function(){return jQuery(".horizontal-timeline.ex-multi-item").each(function(){var e=jQuery(this);if(!jQuery(this).hasClass("hoz-at")){jQuery(this).addClass("hoz-at");var t=e.data("id"),i=e.data("slidesshow");""==i&&(i=3);0<e.data("startit")&&e.data("startit");var a=e.data("autoplay"),l=e.data("speed"),s=e.data("rtl"),o=0<e.data("start_on")?e.data("start_on"):0;if("0"==e.data("infinite"))var r=0;else r="yes"==e.data("infinite");jQuery("#"+t+" .horizontal-nav").EX_ex_s_lick({infinite:r,initialSlide:o,rtl:"yes"==s,prevArrow:'<button type="button" class="ex_s_lick-prev"><i class="fa fa-angle-left"></i></button>',nextArrow:'<button type="button" class="ex_s_lick-next"><i class="fa fa-angle-right"></i></button>',slidesToShow:i,slidesToScroll:1,dots:!1,autoplay:1==a,autoplaySpeed:""!=l?l:3e3,arrows:!0,centerMode:!1,focusOnSelect:!0,adaptiveHeight:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:i,slidesToScroll:1}},{breakpoint:768,settings:{slidesToShow:i,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]})}}),this}};jQuery(document).ready(function(c){function n(){c(".wpex-timeline-list.wpex-infinite").each(function(){var e=jQuery(this).attr("id");if(c("#"+e+" .wpex-loadmore a.loadmore-timeline").length){var t,i,a,l,s=c("#"+e+" .wpex-loadmore a.loadmore-timeline");t="#"+e+" .wpex-loadmore a.loadmore-timeline",i=jQuery(window).scrollTop(),a=i+jQuery(window).height(),(l=jQuery(t).offset().top)+jQuery(t).height()<=a+200&&i<=l&&!s.hasClass("loading")&&!c("#"+e+" .wpex-loadmore").hasClass("hidden")&&s.trigger("click")}})}function u(){var o=c(this);c(".wpex-timeline-list").each(function(){var a=jQuery(this).attr("id"),e=c(this),t=e.offset().top,i=t+e.height();t-=200,i=i,c(document).scrollTop()>=t&&c(document).scrollTop()<=i?c("#"+a+" .wpex-filter").addClass("active"):c("#"+a+" .wpex-filter").removeClass("active");var l=c(window).height(),s=.3*l;o.scrollTop(),c("#"+a+" ul li").each(function(){var e=c(this).data("id"),t=c(this).offset().top-c(window).scrollTop();c(this).height(),s<=t?c("#"+e).removeClass("active"):c("#"+e).addClass("active");var i=c("#"+a).data("animations");""!=i&&t<.7*l&&c(this).children(":first").removeClass("scroll-effect").addClass(i+" animated")})})}c(".wpex-filter:not(.year-ft)").on("click","div span",function(){var e=jQuery(this).attr("id"),t=c(window).height();c("html,body").animate({scrollTop:c("."+e).offset().top-.2*t},"slow")}),c(".wpex-timeline-list").length&&(u(),n(),c(document).scroll(function(){u(),n()})),c(".wpex-filter.year-ft").on("click","div span",function(){var i=c(this),e=jQuery(this).data("id");c("#timeline-"+e).addClass("loading no-more");var a="timeline-"+e;c("#"+a+" .wpex-filter.year-ft div span").removeClass("active"),i.addClass("active");var t=jQuery(this).data("value"),l="";c("#"+a+" .wpex-taxonomy-filter li a.active").length&&(l=c("#"+a+" .wpex-taxonomy-filter li a.active").data("value"));var s=c("#timeline-"+e+" input[name=ajax_url]").val(),o=c("#timeline-"+e+" input[name=param_shortcode]").val();c("#"+a+" .wpex-loadmore.lbt").addClass("hidden"),c("#timeline-"+e+" ul.wpex-timeline li").fadeOut(300,function(){c(this).remove()});var r={action:"wpex_filter_year",taxonomy_id:t,mult:l,param_shortcode:o};return c.ajax({type:"post",url:s,dataType:"json",data:r,success:function(e){if("0"!=e){if(""!=e){var t=c("#"+a+" ul.wpex");t.html(""),""!=e.html_content?(c("#"+a+" .wpex-tltitle.wpex-loadmore").prepend('<span class="yft">'+i.html()+"</span>"),c("#"+a+" .wpex-loadmore:not(.lbt)").removeClass("hidden"),t.append(e.html_content)):(c("#"+a+" .wpex-loadmore").addClass("hidden"),t.append('<h2 style="text-align: center;">'+e.massage+"</h2>")),setTimeout(function(){c("#"+a+" ul.wpex > li").addClass("active")},200),c("#"+a).removeClass("loading")}u(),n(),c(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*c(".wpex-timeline-list .wpex-filter").width())}else c(".row.loadmore").html("error")}}),!1}),c(".wpex-taxonomy-filter").on("click","li a",function(){var e=c(this),t=jQuery(this).data("id"),i="timeline-"+t;c("#timeline-"+t+" .wpex-taxonomy-filter li a").removeClass("active"),c("#"+i+" .wpex-filter.year-ft div span").removeClass("active"),c("#"+i+" .wpex-loadmore").removeClass("hidden"),e.addClass("active");var a=jQuery(this).data("value"),l=c("#timeline-"+t+" input[name=ajax_url]").val(),s=c("#timeline-"+t+" input[name=param_shortcode]").val();c("#timeline-"+t).addClass("loading"),c("#timeline-"+t+" ul.wpex-timeline li").fadeOut(300,function(){c(this).remove()}),c("#"+i+" input[name=num_page_uu]").val(1),c("#"+i+" input[name=current_page]").val(1),c("#"+i+" .wpex-tltitle.wpex-loadmore .yft").remove();var o={action:"wpex_filter_taxonomy",taxonomy_id:a,param_shortcode:s};return c.ajax({type:"post",url:l,dataType:"json",data:o,success:function(e){if("0"!=e){if(""==e)c("#"+i+" .wpex-loadmore.lbt").addClass("hidden");else{var t=c("#"+i+" ul.wpex");t.html(""),t.append(e.html_content),c("#"+i+" .wpex-filter:not(.year-ft) div span").remove(),c("#"+i+" .wpex-filter:not(.year-ft) div").append(e.date),setTimeout(function(){c("#"+i+" ul.wpex > li").addClass("active")},200),c("#"+i).removeClass("loading"),c("#"+i+" input[name=param_query]").val(JSON.stringify(e.data_query))}1!=e.more?(c("#"+i).addClass("no-more"),c("#"+i+" .wpex-loadmore.lbt").addClass("hidden")):c("#"+i).removeClass("no-more"),u(),c(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*c(".wpex-timeline-list .wpex-filter").width())}else c(".row.loadmore").html("error")}}),!1}),c(".loadmore-timeline").on("click",function(){var t=c(this);t.addClass("disable-click");var i=t.data("id"),a=c("#"+i+" input[name=num_page_uu]").val();c("#"+i+" .loadmore-timeline").addClass("loading");var e=c("#"+i+" input[name=param_query]").val(),l=c("#"+i+" input[name=current_page]").val(),s=c("#"+i+" input[name=num_page]").val(),o=c("#"+i+" input[name=ajax_url]").val(),r=c("#"+i+" input[name=param_shortcode]").val(),n="",d=t.data("tl_language");c("#"+i+" li:last-child > input.crr-year").length&&(n=c("#"+i+" li:last-child > input.crr-year").val());var p={action:"wpex_loadmore_timeline",param_query:e,page:1*l+1,param_shortcode:r,param_year:n,lang:d};return c.ajax({type:"post",url:o,dataType:"json",data:p,success:function(e){"0"!=e?(a=1*a+1,c("#"+i+" input[name=num_page_uu]").val(a),""==e.html_content?c("#"+i+" .wpex-loadmore.lbt").addClass("hidden"):(c("#"+i+" input[name=current_page]").val(1*l+1),c("#"+i+" ul.wpex").append(e.html_content),c("#"+i+" .wpex-filter:not(.year-ft) div").append(e.date),setTimeout(function(){c("#"+i+" ul.wpex > li").addClass("active")},200)),a==s&&(c("#"+i).addClass("no-more"),c("#"+i+" .wpex-loadmore.lbt").addClass("hidden")),u(),c(".wpex-timeline-list .wpex-filter:not(.active)").css("right",-1*c(".wpex-timeline-list .wpex-filter").width()),c("#"+i+" .loadmore-timeline").removeClass("loading"),t.removeClass("disable-click")):c(".row.loadmore").html("error")}}),!1}),c(".wpex-timeline-list .wpex-filter").css("right",-1*c(".wpex-timeline-list .wpex-filter").width()),c(".wpex-timeline-list .wpex-filter > .fa").on("click",function(){var e=c(this).data("id");c("#"+e+" .wpex-filter").hasClass("show-filter")?(c("#"+e+" .wpex-filter").removeClass("show-filter"),c("#"+e+" .wpex-filter").css("right",-1*c(".wpex-timeline-list .wpex-filter").width())):(c("#"+e+" .wpex-filter").addClass("show-filter"),c("#"+e+" .wpex-filter").css("right",0))}),c(".wpex-timeline-list").each(function(){var e=c(this),t=e.attr("id");c(e).hasClass("wptl-lightbox")&&(c("#"+t).hasClass("left-tl")&&c("#"+t).hasClass("show-icon")&&!c("#"+t).hasClass("show-box-color")?c("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .wpex-content-left > a",useHistoryApi:!0}):c("#"+t).hasClass("show-clean")?c("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:" .wpex-timeline-label > a",useHistoryApi:!0}):c("#"+t).hasClass("show-wide_img")||c("#"+t).hasClass("show-simple-bod")||c("#"+t).hasClass("show-box-color")?c("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:" .timeline-details > a",useHistoryApi:!0}):c("#"+t).hasClass("left-tl")||c("#"+t).hasClass("center-tl")&&!c("#"+t).hasClass("show-icon")?c("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .wpex-timeline-time > a",useHistoryApi:!0}):c("#"+t+" ul.wpex-timeline").slickLightbox({itemSelector:"> li .timeline-details > a",useHistoryApi:!0}))}),Wptl_El_Sp.timelines_hoz_multi(),c(".horizontal-timeline:not(.ex-multi-item) ul.horizontal-nav li").on("click",function(){c(this).prevAll().addClass("prev_item"),c(this).nextAll().removeClass("prev_item")}),Wptl_El_Sp.timelines_hoz()});